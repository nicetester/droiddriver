<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Wed Mar 25 17:06:25 EDT 2015 -->
<title>io.appium.droiddriver.helpers (droiddriver 1.0.0-SNAPSHOT API)</title>
<meta name="date" content="2015-03-25">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="io.appium.droiddriver.helpers (droiddriver 1.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/appium/droiddriver/finders/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../io/appium/droiddriver/instrumentation/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/appium/droiddriver/helpers/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;io.appium.droiddriver.helpers</h1>
<div class="docSummary">
<div class="block">Helper classes for writing an Android UI test framework using DroidDriver.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../io/appium/droiddriver/helpers/BaseDroidDriverTest.html" title="class in io.appium.droiddriver.helpers">BaseDroidDriverTest</a>&lt;T extends android.app.Activity&gt;</td>
<td class="colLast">
<div class="block">Base class for tests using DroidDriver that reports uncaught exceptions, for * example OOME,
 instead of crash.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../io/appium/droiddriver/helpers/D2ActivityInstrumentationTestCase2.html" title="class in io.appium.droiddriver.helpers">D2ActivityInstrumentationTestCase2</a>&lt;T extends android.app.Activity&gt;</td>
<td class="colLast">
<div class="block">Fixes bugs in <code>ActivityInstrumentationTestCase2</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../io/appium/droiddriver/helpers/DroidDrivers.html" title="class in io.appium.droiddriver.helpers">DroidDrivers</a></td>
<td class="colLast">
<div class="block">Static utility methods using a singleton <a href="../../../../io/appium/droiddriver/DroidDriver.html" title="interface in io.appium.droiddriver"><code>DroidDriver</code></a> instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../io/appium/droiddriver/helpers/DroidDriversInitializer.html" title="class in io.appium.droiddriver.helpers">DroidDriversInitializer</a></td>
<td class="colLast">
<div class="block">Calls <a href="../../../../io/appium/droiddriver/helpers/DroidDrivers.html#setSingleton-io.appium.droiddriver.DroidDriver-"><code>DroidDrivers.setSingleton(io.appium.droiddriver.DroidDriver)</code></a> once and only once.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../io/appium/droiddriver/helpers/PollingListeners.html" title="class in io.appium.droiddriver.helpers">PollingListeners</a></td>
<td class="colLast">
<div class="block">Static utility methods to create commonly used PollingListeners.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../io/appium/droiddriver/helpers/ScrollerHelper.html" title="class in io.appium.droiddriver.helpers">ScrollerHelper</a></td>
<td class="colLast">
<div class="block">Helper for Scroller.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../io/appium/droiddriver/helpers/SingleRun.html" title="class in io.appium.droiddriver.helpers">SingleRun</a></td>
<td class="colLast">
<div class="block">Base class for an action that should run only once no matter how many times the method <a href="../../../../io/appium/droiddriver/helpers/SingleRun.html#singleRun--"><code>SingleRun.singleRun()</code></a> is called upon an instance.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package io.appium.droiddriver.helpers Description">Package io.appium.droiddriver.helpers Description</h2>
<div class="block">Helper classes for writing an Android UI test framework using DroidDriver.

 <h2>UI test framework design principles</h2>

 A UI test framework should model the UI of the AUT in a hierarchical way to maximize code reuse.
 Common interactions should be abstracted as methods of page objects. Uncommon interactions may
 not be abstracted, but carried out using "driver" directly.
 <p>
 The organization of the entities (pages, components) does not need to strictly follow the AUT
 structure. The UI model can be greatly simplified to make it easy to use.
 <p>
 In general the framework should follow these principles:
 <ul>
   <li>Layered abstraction: at the highest level, methods completely abstract the implementation
       detail. This kind of methods carry out a complex action, usually involving multiple steps.
       At a lower level, methods can expose some details, e.g. clickInstallButton(), which does a
       single action and returns a dialog instance it opens, and let the caller decide how to
       further interact with it. Lastly at the lowest level, you can always use "driver" to access
       any elements if no higher-level methods are available.</li>
   <li>Instance methods of a page object assume the page is currently shown.</li>
   <li>If a method opens another page, it should return that page on a best-effort basis. There
       could be exceptions where we let callers determine the type of the new page, but that
       should be considered hacks and be clearly documented.</li>
   <li>The page object constructors are public so that it's easy to hack as mentioned above, but
       don't abuse it -- typically callers should acquire page objects by calling methods of other
       page objects. The root is the home page of the AUT.</li>
   <li>Simple dialogs may not merit their own top-level classes, and can be nested as static
       subclasses.</li>
   <li>Define constants that use values generated from Android resources instead of using string
       literals. For example, call <code>Context.getResources()</code> to get the
       Resources instance, then call <code>Resources.getResourceName(int)</code> to get
       the string representation of a resource id, or call <code>Resources.getString(int)</code> to get the localized string of a string resource.
       This gives you compile-time check over incompatible changes.</li>
   <li>Avoid public constants. Typically clients of a page object are interested in what can be
       done on the page (the content or actions), not how to achieve that (which is an
       implementation detail). The constants used by the page object hence should be encapsulated
       (declared private). Another reason for this item is that the constants may not be real
       constants. Instead they are generated from resources and acquiring the values requires the
       <code>Context</code>, which is not available until setUp() is called. If those
       are referenced in static fields of a test class, they will be initialized at class loading
       time and result in a crash.</li>
   <li>There are cases that exposing public constants is arguably desired. For example, when the
       interaction is trivial (e.g. clicking a button that does not open a new page), and there
       are many similar elements on the page, thus adding distinct methods for them will bloat the
       page object class. In these cases you may define public constants, with a warning that
       "Don't use them in static fields of tests".</li>
 </ul>

 <h2>Common pitfalls</h2>
 <ul>
   <li>UI elements are generally views. Users can get attributes and perform actions. Note that
       actions often update a UiElement, so users are advised not to store instances of UiElement
       for later use - the instances could become stale. In other words, UiElement represents a
       dynamic object, while Finder represents a static object. Don't declare fields of the type
       UiElement; use Finder instead.</li>
   <li><code>ActivityInstrumentationTestCase2.getActivity()</code> calls
       <code>InstrumentationTestCase.launchActivityWithIntent(java.lang.String, java.lang.Class&lt;T&gt;, android.content.Intent)</code>, which may hang in
       <code>Instrumentation.waitForIdleSync()</code>. You can call
       <code>Context.startActivity(android.content.Intent)</code> directly.</li>
   <li>startActivity does not wait until the new Activity is shown. This may cause problem when
       the old Activity on screen contains UiElements that match what are expected on the new
       Activity - interaction with the UiElements fails because the old Activity is closing.
       Sometimes it shows as a test passes when run alone but fails when run with other tests.
       The work-around is to add a delay after calling startActivity.</li>
   <li>Error "android.content.res.Resources$NotFoundException: Unable to find resource ID ..."?
       <br>
       This may occur if you reference the AUT's resource in tests, and the two APKs are out of
       sync. Solution: build and install both AUT and tests together.</li>
   <li>"You said the test runs on older devices as well as API18 devices, but mine is broken on
       X (e.g. GingerBread)!"
       <br>
       This may occur if your AUT has different implementations on older devices. In this case,
       your tests have to match the different execution paths of AUT, which requires insight into
       the implementation of the AUT. A tip for testing older devices: uiautomatorviewer does not
       work on ore-API16 devices (the "Device screenshot" button won't work), but you can use it
       with dumps from DroidDriver (use to-uiautomator.xsl to convert the format).</li>
   <li>"com.android.launcher has stopped unexpectedly" and logcat says OutOfMemoryError
       <br>
       This is sometimes seen on GingerBread or other low-memory and slow devices. GC is not fast
       enough to reclaim memory on those devices. A work-around: call gc more aggressively and
       sleep to let gc run, e.g.
       <pre>       
public void setUp() throws Exception {
  super.setUp();
  if (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.GINGERBREAD_MR1) {
    Runtime.getRuntime().gc();
    SystemClock.sleep(1000L);
  }
}
</pre></li>
 </ul></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/appium/droiddriver/finders/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../io/appium/droiddriver/instrumentation/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/appium/droiddriver/helpers/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
